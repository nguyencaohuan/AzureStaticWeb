<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Hello QUASAR</title>
<!--
    WARNING! Make sure that you match all Quasar related
    tags to the same version! (Below it's "@2.3.3")
  -->

<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet"
        type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/quasar@2.3.3/dist/quasar.prod.css" rel="stylesheet" type="text/css">

    <style lang="sass" scoped>
        .my-card {
            width: 100%;
            max-width: 250px;
        }

        .col-3 {
            background-color: blue;
        }
    </style>

</head>

<body>


    <div id="q-app" style="min-height: 100vh;">
        <div class="q-pa-md q-gutter-sm">
            <q-banner rounded class="bg-purple-8 text-white">
                <strong>COURSE ONLINE</strong>

                <template v-slot:action>

                    <q-input filled bottom-slots v-model="message" v-on:keypress="testKeyPress($event)"
                        label="Tìm kiếm" :dense="dense" bg-color="primary">
                        <template v-slot:append>
                            <q-icon v-if="text !== ''" name="close" @click="text = ''" class="cursor-pointer"></q-icon>

                            <q-icon name="search"></q-icon>

                        </template>
                    </q-input>

                    <!-- <q-btn flat color="white" label="Dismiss" />
                    <q-btn flat color="white" label="Update Credit Card" /> -->
                </template>

            </q-banner>
        </div>



        <div class="q-pa-md q-gutter-md">
            <div>
                <q-btn-toggle v-model="selectedView" push glossy toggle-color="primary" :options="[
                  {label: 'Grid', value: true},
                  {label: 'List', value: false}]"></q-btn-toggle>
            </div>
        </div>
        <div class="row">



            <div class="col">
                <div class="q-pa-md row items-start q-gutter-md" v-show="selectedView">
                    <q-card v-for="item in filterProduct" class="my-card">
                        <q-img v-bind:src=item.url></q-img>
                        <q-card-section>

                            <div class="row no-wrap items-center">
                                <div class="col text-h6 ellipsis">
                                    {{item.course}}
                                </div>
                            </div>

                            <q-rating v-model="item.evaluate" :max="5" size="20px"></q-rating>
                        </q-card-section>

                        <q-card-section class="q-pt-none">
                            <div class="text-subtitle1">
                                {{item.subject}}
                            </div>
                            <div class="text-caption text-grey">
                                {{item.note}}
                            </div>
                        </q-card-section>

                        <q-separator></q-separator>

                        <q-card-actions>
                            <q-btn flat color="primary">
                                Mua khóa học
                            </q-btn>
                        </q-card-actions>
                    </q-card>


                </div>

                <div class="q-pa-md q-gutter-md" v-show="!selectedView">
                    <q-list bordered class="rounded-borders">
                        <q-item-label header>Danh sách khóa học</q-item-label>

                        <div v-for="item in filterProduct">
                            <q-item>
                                <q-item-section class="col-2 flex flex-center">
                                    <q-img v-bind:src=item.url></q-img>
                                </q-item-section>

                                <q-item-section top class="col-1 gt-sm">
                                    <q-rating v-model="item.evaluate" :max="5" size="16px"></q-rating>
                                </q-item-section>

                                <q-item-section top>
                                    <q-item-label lines="1"
                                        class="q-mt-xs text-body2 text-weight-bold text-primary text-uppercase">
                                        <span class="cursor-pointer">{{item.course}}</span>
                                    </q-item-label>
                                    <q-item-label lines="1">

                                        <span class="text-grey-8">{{item.subject}}</span>
                                    </q-item-label>
                                    <q-item-label caption lines="1">
                                        {{item.note}}
                                    </q-item-label>

                                </q-item-section>

                                <q-item-section top side>
                                    <div class="text-grey-8 q-gutter-xs">
                                        <q-btn flat color="primary">
                                            Mua khóa học
                                        </q-btn>

                                        <q-btn size="12px" flat dense round icon="more_vert"></q-btn>
                                    </div>
                                </q-item-section>


                            </q-item>
                            <q-separator spaced></q-separator>
                        </div>



                    </q-list>
                </div>













            </div>

        </div>

    </div>


    <!-- Add the following at the end of your body tag -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quasar@2.3.3/dist/quasar.umd.prod.js"></script>

    <script>

        /*
          Example kicking off the UI. Obviously, adapt this to your specific needs.
          Assumes you have a <div id="q-app"></div> in your <body> above
         */
        const app = Vue.createApp({
            setup() {
                return {
                    lorem: 'Lorem ipsum dolor sit amet',

                }

            },
            data() {
                return {
                    score:4,
                    selectedView: true,
                    message: "",
                    products: [
                        {
                            id: 1, subject: "LT & Phát triển ứng dụng", course: "SNLTA", price: 1000, evaluate: 5, tag: "new",
                            note: "Duis rutrum dictum consequat.", url: "img/SNLTA.png"
                        },
                        {
                            id: 2, subject: "LT & Phát triển ứng dụng", course: "SNLTW", price: 2000, evaluate: 2, tag: "new",
                            note: " Nullam volutpat, tristique laoreet", url: "img/SNLTW.png"
                        },
                        {
                            id: 3, subject: "LT & Phát triển ứng dụng", course: "SNLTG", price: 3000, evaluate: 5, tag: "new",
                            note: "Maecenas laoreet dapibus diam.", url: "img/SNLTG.png"
                        },

                        {
                            id: 4, subject: "Robot & ĐT tự động", course: "KPRBT", price: 1000, evaluate: 4, tag: "new",
                            note: "Nullam aliquam hendrerit laoreet.", url: "img/KPRBT.png"
                        },
                        {
                            id: 5, subject: "Robot & ĐT tự động", course: "XCTRB", price: 2000, evaluate: 5, tag: "new",
                            note: "Mauris aliquet sollicitudin lorem", url: "img/XCTRB.png"
                        },
                        {
                            id: 6, subject: "Robot & ĐT tự động", course: "TGVVTM", price: 3000, evaluate: 4, tag: "hot",
                            note: "Maecenas lobortis non egestas.", url: "img/TGVVTM.png"
                        },


                        {
                            id: 7, subject: "3D & TT đa phương tiện", course: "Digi Style", price: 1000, evaluate: 4, tag: "new",
                            note: "Aliquam tempus  consectetur.", url: "img/DigiStyle.png"
                        },
                        {
                            id: 8, subject: "3D & TT đa phương tiện", course: "Digi Girl", price: 2000, evaluate: 5, tag: "new",
                            note: "Duis rutrum metus  consequat.", url: "img/DigiGirl.png"
                        }

                    ],

                    //id / title / price / qtt
                    cart: [
                        { id: 1, title: "Sản phẩm 01", price: 1000, qtt: 1 },
                        { id: 2, title: "Sản phẩm 02", price: 2000, qtt: 3 }
                    ]
                }
            },
            computed: {
                filterProduct() {
                    var str_filter = this.message;
                    var filterValues = this.products.filter(function (val) {
                        var result = val.subject.toLowerCase().includes(str_filter.toLowerCase())
                            || val.course.toLowerCase().includes(str_filter.toLowerCase())
                            || val.note.toLowerCase().includes(str_filter.toLowerCase())
                        return result;
                    });
                    return filterValues
                }
            },

            methods: {
                
            },
            mounted: function () {
                //   this.$nextTick(function () {
                //   // Code that will run only after the
                //   // entire view has been rendered
                //   //alert('Some other message')
                // })
            }
        })

        app.use(Quasar, { config: {} })
        app.mount('#q-app')

    </script>
</body>

</html>